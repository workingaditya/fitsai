@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* App Background from design.json layout.appBackground */
    --app-background: linear-gradient(135deg, #8B9DC3 0%, #DFE9F3 100%);

    /* Core Colors (design.json colorPalette) */
    --color-background: #FFFFFF; /* base surfaces */
    --color-foreground: #1A1A1A; /* text.primary */
    --color-border: #E5E5E7; /* borders.light */
    --color-input: #FFFFFF; /* forms.input.background */
    --color-ring: #007AFF; /* borders.focus */

    /* Card / Popover */
    --color-card: #FFFFFF; /* cards.primary.background */
    --color-card-foreground: #1A1A1A;
    --color-popover: #FFFFFF;
    --color-popover-foreground: #1A1A1A;

    /* Muted Surfaces & Text */
    --color-muted: #F8F9FA; /* backgrounds.cardSecondary */
    --color-muted-foreground: #999999; /* text.muted */

    /* Brand Primary */
    --color-primary: #007AFF; /* primary.blue */
    --color-primary-hover: #0056CC; /* primary.blueHover */
    --color-primary-foreground: #FFFFFF; /* text.white */

    /* Secondary Button/Surface */
    --color-secondary: #F8F9FA; /* buttons.secondary.background */
    --color-secondary-hover: #E5E5E7; /* buttons.secondary.hover.background */
    --color-secondary-foreground: #1A1A1A; /* buttons.secondary.color */

    /* Destructive */
    --color-destructive: #FF3B30; /* status.error */
    --color-destructive-foreground: #FFFFFF;

    /* Accent (links/info) */
    --color-accent: #007AFF; /* status.info / text.link */
    --color-accent-foreground: #FFFFFF;

    /* Status Colors */
    --color-success: #34C759; /* status.success */
    --color-success-foreground: #FFFFFF;
    --color-warning: #FF9500; /* status.warning */
    --color-warning-foreground: #FFFFFF;
    --color-error: #FF3B30; /* status.error */
    --color-error-foreground: #FFFFFF;

    /* Surface */
    --color-surface: #F8F9FA;
    --color-surface-foreground: #1A1A1A;

    /* Sidebar / Navigation */
    --color-sidebar: #FFFFFF; /* layout.sidebar.background */
    --color-sidebar-foreground: #1A1A1A;
    --color-sidebar-muted: #F8F9FA; /* hover bg */
    --color-sidebar-muted-foreground: #666666; /* text.secondary */
    --color-sidebar-active: #E3F2FD; /* backgrounds.sidebarActive */

    /* Additional Text and Borders */
    --color-text-secondary: #666666;
    --color-border-medium: #D1D1D6; /* borders.medium */

    /* Shadows (design.json shadows) */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.12);
    --shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.15);
    --shadow-card: 0 2px 12px rgba(0, 0, 0, 0.08);

    /* Spacing */
    --spacing-base: 16px;
    --spacing-sidebar: 280px;
    --spacing-sidebar-collapsed: 64px;

    /* Transitions (design.json animations) */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  * {
    @apply border-border;
  }
  
  body {
    /* App gradient background + text colors */
    background: var(--app-background);
    @apply text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  code, pre, .font-mono {
    font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Consolas', 'Liberation Mono', 'Courier New', monospace;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Inter', sans-serif;
    font-weight: 600;
    color: var(--color-foreground);
  }

  /* Typography sizing per design.json */
  h1 { font-size: 32px; line-height: 1.25; margin-bottom: 8px; }
  h2 { font-size: 24px; line-height: 1.3; margin-bottom: 6px; }
  h3 { font-size: 18px; line-height: 1.4; margin-bottom: 4px; }
}

@layer components {
  .sidebar-transition {
    transition: width var(--transition-normal), transform var(--transition-normal);
  }
  
  .nav-item-hover {
    transition: background-color var(--transition-fast), color var(--transition-fast);
  }
  
  .nav-item-hover:hover {
    background-color: var(--color-sidebar-muted);
  }
  
  .nav-item-active {
    background-color: var(--color-sidebar-active);
    color: var(--color-primary);
  }
  
  .nav-item-active:hover {
    background-color: var(--color-sidebar-active);
  }
  
  .pulse-loading {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: .5;
    }
  }
  
  .fade-in {
    animation: fadeIn var(--transition-normal) ease-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-border);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-muted-foreground);
  }
}